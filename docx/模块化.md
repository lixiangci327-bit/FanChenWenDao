模块化用户界面
自 2.1.0 版本起

本页介绍LDLib2 UI 系统的核心概念。在运行时，LDLib2 使用一个名为 `UI_Trow` 的类ModularUI来管理整个 UI 树。`UI_Trow`
ModularUI负责：

管理用户界面生命周期
处理输入事件
应用样式和样式表
协调渲染
客户端与服务器之间的数据同步（与菜单一起使用时）
简而言之，ModularUI它是 UI 实例的中央控制器。

ModularUI工作原理
下图展示了ModularUIMinecraft 系统与 UI 树的连接方式：

Input Events

Data Sync

Render Output

Data Sync / RPC Event

ModularUI

UI Tree

Style Engine
(LSS / Stylesheets)

Event System
(Dispatch / Bubble)

Renderer
(Draw Commands)

Data Binding
(C<-->S)

Screen
(Mouse / Keyboard Input)

Menu
(Server Data)

ModularUI蜜蜂
创建有两种方法ModualrUI：

ModularUI.of(ui)
ModularUI.of(ui, player)
如果要创建一个简单的client-side纯用户界面，第一个就足够了。

第二个需要Player输入，如果你的 UI 是一个UI 并且需要在客户端和服务器之间进行数据同步，那么这是必要的。menu-based

通用API
方法	描述
shouldCloseOnEsc()	按下按钮时是否应该关闭用户界面ESC。
shouldCloseOnKeyInventory()	按下物品栏键时是否应关闭用户界面（默认值：）E。
getTickCounter()	ModularUI返回此实例已处于活动状态的次数（以游戏刻为单位）。
getWidget()	返回 Minecraft 使用的 widget 实例Screen。
getAllElements()	返回 UI 树中所有 UI 元素的不可修改列表。
元素查询 API（按 ID）
方法	描述
getElementById(String id)	查找并返回具有给定 ID 的第一个nullUI 元素，如果未找到则返回空值。
getElementsById(String id)	返回具有给定 ID 的所有UI 元素。
hasElementWithId(String id)	检查是否存在至少一个具有给定 ID 的元素。
getElementCountById(String id)	返回具有给定 ID 的元素数量。
getAllElementsById()	返回从 ID 到 UI 元素的内部映射副本。
元素查询 API（正则表达式和模式）
方法	描述
getElementByIdRegex(String pattern)	查找 ID 与给定正则表达式模式匹配的第一个元素。
getElementsByIdRegex(String pattern)	查找 ID 与给定正则表达式模式匹配的所有元素。
getElementByIdPattern(Pattern pattern)	与上述相同，但使用预编译版本Pattern以获得更好的性能。
getElementsByIdPattern(Pattern pattern)	返回所有与预编译正则表达式模式匹配的元素。
元素查询 API（部分匹配）
方法	描述
getElementsByIdContains(String substring)	查找 ID 包含给定子字符串的所有元素。
getElementsByIdStartsWith(String prefix)	查找 ID 以给定前缀开头的所有元素。
getElementsByIdEndsWith(String suffix)	查找 ID 以给定后缀结尾的所有元素。
元素查询 API（按类型）
方法	描述
getElementsByType(Class<T> type)	返回给定类型的所有 UI 元素。
getAllElementsByType()	返回元素类型到 UI 元素的内部映射副本。
笔记

所有查询方法在适用情况下都会返回内部集合的副本。返回的列表可以安全修改，不会影响内部 UI 树。

调试您的用户界面
在开发过程中，UI 树可能不会总是按预期运行，
而且很难理解哪里出了问题。

您可以按下按钮F3启用UI 调试模式。
启用调试模式后，LDLib2 会直接在屏幕上显示有用的信息。

调试